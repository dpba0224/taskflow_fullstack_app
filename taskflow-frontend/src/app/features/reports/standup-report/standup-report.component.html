<div class="report-container">
  <div class="report-header">
    <div>
      <h1 class="report-title">Daily Standup Report</h1>
      <p class="report-subtitle">Auto-generated summary of your work</p>
    </div>
    <button (click)="generate()" class="generate-btn">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M18 20V10M12 20V4M6 20v-6"/></svg>
      {{ report() ? 'Refresh' : 'Generate' }}
    </button>
  </div>

  @if (loading()) {
    <app-loader />
  } @else if (report()) {
    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value stat-success">{{ report()!.stats.completedYesterday }}</div>
        <div class="stat-label">Completed Yesterday</div>
      </div>
      <div class="stat-card">
        <div class="stat-value">{{ report()!.stats.inProgressToday }}</div>
        <div class="stat-label">In Progress Today</div>
      </div>
      <div class="stat-card">
        <div class="stat-value stat-danger">{{ report()!.stats.blocked }}</div>
        <div class="stat-label">Blocked</div>
      </div>
    </div>

    <!-- Report content -->
    <div class="report-card">
      <div class="report-card-header">
        <h2>Report</h2>
        <button (click)="copyToClipboard()" class="copy-btn">
          @if (copied()) {
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="icon-success"><polyline points="20 6 9 17 4 12"/></svg>
            Copied!
          } @else {
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
            Copy
          }
        </button>
      </div>
      <div class="report-divider"></div>
      <pre class="report-content">{{ report()!.markdown }}</pre>
    </div>
  } @else {
    <div class="empty-state">
      <div class="empty-icon-wrapper">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M18 20V10M12 20V4M6 20v-6"/></svg>
      </div>
      <p class="empty-title">No report generated yet</p>
      <p class="empty-desc">Click "Generate" to create your daily standup report</p>
    </div>
  }
</div>
